<h2 id="androidデベロッパーアカウントが停止される">Androidデベロッパーアカウントが停止される</h2>
<p>私のAndroidデベロッパーアカウントが2021年10月13日に削除されそうです。</p>

<p><br />
アカウント取得から９年間まったく利用しなかったので当然ですが、いざなくなると思うと回避したい。</p>
<h2 id="回避する方法">回避する方法</h2>
<p>とにかくAndroidアプリを作ることです。<br />
以前<a href="https://ja.renpy.org/doc/html/#">Ren’Py</a>を使って作った紙芝居があったので、それをAndroidアプリにすることで回避したいと思いました。<br />
<br />
Googleからのアカウント停止通知のメールに</p>
<blockquote>
  <p>アプリを公開する準備ができていない場合は、内部アプリ共有、内部テスト、またはクローズドテストを利用して、一般提供することなく安全にアップロードしていただけます</p>
</blockquote>

<p>とありましたでの、なんとか管理サイトに上げるところまで行きたいと思っています。<br />
Ren’pyには<a href="https://ja.renpy.org/doc/html/android.html">Androidアプリとして成果物をビルドする機能</a>があるようなので、それを使いたいと思います。
<br /></p>
<h2 id="うまくいかない">うまくいかない</h2>
<p>Ren’pyで作成したプロジェクト「TwoMOuse」を選択して、画面右下のAndroidをクリックします。<br />
<br />
<img src="/blog/assets/images/Screenshot%20from%202021-08-22%2013-47-17.png" alt="image1" /><br />
<br />
SDKのインストールキー&amp;キーの作成をクリックします。<br />
<img src="/blog/assets/images/Screenshot%20from%202021-08-22%2014-02-32.png" alt="image2" /><br />
<br />
すると以下のエラーメッセージが吐き出されました。<br />
<img src="/blog/assets/images/Screenshot%20from%202021-08-22%2014-05-58.png" alt="image3" /></p>

<blockquote>
  <p>Ren’Py 7.4.8.1895</p>

  <p>小さなテストプログラムをコンパイルして、あなたのシステムで JDK が動作するか確認しています。</p>

  <p>Traceback (most recent call last):<br />
 File “game/mobilebuild.rpy”, line 195, in call<br />
 File “/home/tom/ab/renpy-build/tmp/install.linux-x86_64/lib/python2.7/subprocess.py”, line 325, in <strong>init</strong><br />
 File “/home/tom/ab/renpy-build/tmp/install.linux-x86_64/lib/python2.7/subprocess.py”, line 978, in _execute_child<br />
OSError: [Errno 2] No such file or directory</p>

  <p>I was unable to use javac to compile a test file. If you haven’t installed the Java Development Kit yet, please download it from:</p>

  <p>https://adoptopenjdk.net/?variant=openjdk8&amp;jvmVariant=hotspot</p>

  <p>The JDK is different from the JRE, so it’s possible you have Java without having the JDK. Without a working JDK, I can’t continue.</p>
</blockquote>

<p>このエラーを解決する方法がわかりません。<br />
JDKの問題かと思い<a href="https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html">Ren’Py公式で案内されたOracleのJDK</a>をインストールしました。<br />
<br />
インストールしたJDKは<br />
Linux x64 Compressed Archive です<br />
<br />
次のページを参考にインストールしました。<br />
<a href="https://docs.datastax.com/ja/install/6.0/install/installJdkDeb.html">DebianまたはUbuntuシステムでのOracleJREまたはJDKのインストール</a></p>

<p><br />
$ java -version</p>

<blockquote>
  <p>java version “1.8.0_301”<br />
Java(TM) SE Runtime Environment (build 1.8.0_301-b09)<br />
Java HotSpot(TM) 64-Bit Server VM (build 25.301-b09, mixed mode)</p>
</blockquote>

<p><br />
$ javac -version</p>

<blockquote>
  <p>コマンド ‘javac’ が見つかりません。次の方法でインストールできます:<br />
sudo apt install openjdk-11-jdk-headless<br />
sudo apt install default-jdk<br />
sudo apt install openjdk-13-jdk-headless<br />
sudo apt install openjdk-16-jdk-headless<br />
sudo apt install openjdk-8-jdk-headless<br />
sudo apt install openjdk-14-jdk-headless<br />
sudo apt install ecj</p>
</blockquote>

<p>$ echo $JAVA_HOME</p>
<blockquote>
  <p>/usr/lib/jvm/jdk1.8.0_301/bin</p>
</blockquote>

<p>Ren’Pyのエラーコードから<a href="https://adoptopenjdk.net/?variant=openjdk8&amp;jvmVariant=hotspot">OpenJDKのURL</a>にアクセスしてOpenJDK8をダウンロード
して設定しても同様の状態になります。<br />
<br />
javac のパスが通ってないことが原因なのでしょうか。<br />
javacのパスを通す手順を追加してみます。<br />
<br />
$ sudo update-alternatives –install “/usr/bin/javac” “javac” “/usr/lib/jvm/jdk1.8.0_301/bin/javac” 1</p>
<blockquote>
  <p>update-alternatives: /usr/bin/javac (javac) を提供するために自動モードで /usr/lib/jvm/jdk1.8.0_301/bin/javac を使います</p>
</blockquote>

<p>$ javac -version</p>
<blockquote>
  <p>javac 1.8.0_301</p>
</blockquote>

<p><br />
<br />
javacのパスを通してもRenPyから吐き出されるエラーメッセージは変わりません。。。<br />
<br />
<br />
完全に行き詰まってしまったので、作業内容を忘れないようにまとめてみました。
<br />
<br />
アカウント停止までに解決できない気がします。。。<br />
2021-08-22 13:00:00 +0000</p>
